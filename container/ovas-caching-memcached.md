NVIDIA OVAS(Omniverse Application Streaming) 환경에서 동일 Kubernetes 클러스터 내에 USD Viewer와 같은 컨테이너가 배포될 때, 
**memcached**와 같은 키-값 스토어를 통해 쉐이더 캐싱이 이루어집니다. 이를 통해 동일 클러스터 내의 컨테이너들이 쉐이더 데이터를 공유하고 재사용할 수 있어 성능이 최적화됩니다.
아래는 이 과정에 대한 간략한 정리와 동작 원리입니다.

### 동작 원리
1. **동일 클러스터 내 배포**:
   - USD Viewer 컨테이너와 memcached가 동일 Kubernetes 클러스터 내에 배포됩니다. memcached는 별도의 컨테이너 또는 서비스로 실행되며, 클러스터 내 모든 컨테이너가 접근 가능합니다.
   - Kubernetes의 서비스 디스커버리(예: DNS)를 통해 USD Viewer 컨테이너가 memcached에 쉽게 연결됩니다.

2. **쉐이더 캐싱**:
   - 첫 번째 USD Viewer 컨테이너가 기동하면서 쉐이더를 컴파일하면, 컴파일된 쉐이더 데이터가 memcached에 저장됩니다(키: 쉐이더 식별자, 값: 컴파일된 쉐이더 바이너리).
   - 동일 클러스터 내의 다른 USD Viewer 컨테이너가 기동할 때, memcached에서 이미 캐시된 쉐이더 데이터를 조회하여 즉시 로드합니다.

3. **캐싱의 이점**:
   - **컴파일 시간 절약**: 쉐이더 컴파일(5~10분 소요 가능)을 생략하고 캐시된 데이터를 사용하므로 컨테이너 기동 시간이 수초로 단축됩니다.
   - **리소스 효율성**: 동일 클러스터 내 모든 컨테이너가 동일한 쉐이더 데이터를 공유하므로, 각 컨테이너가 개별적으로 컴파일할 필요가 없습니다.
   - **확장성**: 클러스터에 새로운 컨테이너가 추가되더라도 memcached를 통해 기존 캐시를 즉시 활용 가능.

### 전제 조건
- **memcached 배포**: memcached가 클러스터 내에 제대로 배포되고, USD Viewer 컨테이너가 이를 참조하도록 설정되어 있어야 합니다(NVIDIA의 OVAS 배포 가이드에 따라 설정).
- **네트워크 설정**: 클러스터 내부의 네트워크 지연이 낮아야 memcached 데이터 액세스가 빠르게 이루어집니다.
- **쉐이더 식별자 일관성**: 모든 컨테이너가 동일한 GPU 아키텍처(예: L40S, A40)와 드라이버 버전을 사용해야 캐시된 쉐이더가 호환됩니다.

### 제한 사항
- **캐시 무효화**: GPU 드라이버 업데이트나 Omniverse Kit 버전 변경 시 캐시된 쉐이더가 무효화될 수 있어 재컴파일이 필요합니다.
- **memcached 용량**: memcached의 메모리 용량이 제한적이라면, 자주 사용되지 않는 쉐이더가 LRU(Least Recently Used) 방식으로 제거될 수 있습니다.
- **클러스터 외부 접근**: 동일 클러스터가 아닌 다른 클러스터나 외부 환경에서는 추가 네트워크 설정이 필요할 수 있습니다.

### 요약
동일 Kubernetes 클러스터 내에 USD Viewer 컨테이너와 memcached가 배포되면, 첫 번째 컨테이너가 쉐이더를 컴파일하여 memcached에 캐싱한 후, 동일 클러스터 내의 다른 컨테이너들이 이 캐시를 읽어와 빠르게 기동합니다. 이는 OVAS의 효율성과 확장성을 높이는 핵심 메커니즘입니다.

